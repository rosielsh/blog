---
title: "테스용 게시물"
date: 2025-02-23
desc: 설명 테스트길게ㅣ이이이ㅣ리이잉이ㅣ이ㅣ이ㅣㅣㅣㅣ이ㅣㅣㅣㅣㅣㅣㅣㅣㅣ테스트길게ㅣ이이이ㅣ리이잉이ㅣ이ㅣ이ㅣㅣㅣㅣ
thumbnail: /posts/회고/제목/귀여운것.jpg
---

# 생각해보자

1. `class`를 쓰면 객체지향인가?
2. 객체지향과 함수형 ⇒ 둘은 양자택일 관계인가?

# 연습 문제

## #1

호출할 때마다 현재 게임 카운트를 올려주는 함수를 만들고 싶다. 어떻게 만들 수 있을까?

```jsx
countGameRound(); // 1
countGameRound(); // 2
countGameRound(); // 3
```

**정답**

```jsx
const createRoundCounter = () => {
  let round = 0; // 외부에서 사용되는 상태는 아니지만 내부에서 값을 조정할 수 있다
  return () => (round += 1);
};
```

## #2

미국 지사에서도 로또 프로그램을 쓰고 싶다고 연락이 왔다. 미국의 파워볼은 1~69사이의 숫자 5개 + 1~26 사이의 숫자 1개(파워볼)를 맞춰야 하는 규칙을 가지고 있다. 특정 범위의 숫자 중 랜덤으로, 중복되지 않는 숫자 n개를 뽑는 기능이 중복되는 것 같다. 어떻게 중복을 제거할 수 있을까? 하나의 함수만 만들어서 **`generateLotto`**와 **`generatePowerBall`**를 모두 대응할 수는 없을까?

```jsx
const generateLotto = () => {
  const lottoNumbers = new Array(45).fill().map((_, index) => index + 1);
  lottoNumbers.sort(() => Math.random() - 0.5);

  return lottoNumbers.slice(0, 6);
};

const generatePowerBall = () => {
  const lottoNumbers = new Array(69).fill().map((_, index) => index + 1);
  lottoNumbers.sort(() => Math.random() - 0.5);

  return lottoNumbers.slice(0, 5);
};
```

정답

- 클로저로 적용할 수 있다

```jsx
const createLottoGenerator = (maxNumber) => {
  let round = 0; // 외부에서 사용되는 상태는 아니지만 내부에서 값을 조정할 수 있다
  return () => (round += 1);
};
```

---

# JS는 멀티 패러다임

명령형, 함수형, 프로토타입 기반 객체지향 프로그래밍 모든걸 다 할 수 있다.

모든 경우에 통하는 정답은 없다. 어떨 때 객체를 활용하고, 어떨 때 함수를 활용할 지 스스로 생각하는 기준에 대해 고민해본다.

---

# 생각해보기

함수로 할 수 있는 건 없나?

- 각 모듈이나 함수가 하나의 책임만을 가지고 명확한 역할을 수행하도록 설계하는 것이 중요하다
  - 역할의 책임과 분리
    - 함수형 : 순수함수를 지향하며 사이드 이펙트 최소화
- 관련된 기능들을 한 곳에 모으고, 변경 시 그 영향 범위를 최소화하는 것이 좋다
  - 모듈화와 캡슐화
    - 함수형 : 모듈 단위로 묶고 외부에서 필요한 함수만 export, 클로저로 캡슐화
- 내부의 복잡한 동작을 숨기고, 외부에서는 꼭 필요한 기능만 간단하게 사용할 수 있도록 하는 것이 좋다
  - 캡슐화와 인터페이스
    - 함수형 : 외부에는 단순한 인터페이스만 노출하고 클로저를 이용해 상태를 은닉, 고차함수/합성함수를 활용하여 필요한 기능을 조합

---

# 일급 객체

### 고차 함수

- 다른 함수를 인자로 받거나 함수를 리턴하는 함수를 만들 수 있음
- 콜백함수나 다양한 배열 메서드

### 클로저

- 함수 내부에 private state가 필요할 때 사용한다.

---

# 함수형 생각 연습

함수형 프로그래밍을 공부하지 말고 특정 규칙을 지키기 위해서 노력해보자

1. 가능한 순수 함수로 작성
   1. 순수함수와 부수효과가 있는 함수를 구분해야 하는 이유
      1. 순수 함수는 동작을 예측하기 쉬움
      2. 테스트 하기 용이함 (순수함수를 쓰면 테스트하기 용이한 코드가 된다…)
2. 데이터를 불변으로 유지
   1. 변수를 선언할 때는 const로
   2. 값을 변경할 때는 복사본을 만들어 활용
3. 선언형 코드
   1. 어떤 동작을 해야하는지를 더 명시적으로
   2. 한 줄짜리 코드라도 어떤 코드인지 추측하는데 시간을 들이게 하는 것 보다 변수로 이름을 붙여주는게 더 가독성이 좋을 수 있다.

---

### 함수 조합 (function composition)

- 여러 개의 작은 함수를 조합해 필요한 함수를 만들어 사용할 수도 있다.
- '선언형 코드를 지향한다'에서와 같이 보다 명시적으로 어떤 동작인지를 드러낼 수 있다.
  - 다만 지나칠 경우, 팀 내에서 잘 사용하지 않는 방식인 경우 등에는 오히려 가독성을 떨어트릴 수도 있으니 주의한다.

```javascript
const numbers = new Array(45).fill().map((_, index) => index + 1);
const shuffle = (numbers) => [...numbers].sort(() => Math.random() - 0.5);
const take = (n) => (array) => array.slice(0, n);

const generateLottoNumbers = () => take(6)(shuffle(numbers));

const lottoNumbers = generateLottoNumbers();
```

### 부수 효과

- 브라우저에서의 이벤트 처리
- 화면에 출력
- API 통신
- 웹 API를 사용하는 코드
- 데이터베이스 읽기/쓰기

---

함수형으로는 상태를 관리할 수 없지 않나? 라고 생각했는데,

클로저가 내부에서 private 상태를 관리하기 위해 사용한다는 것을 보고 클로저를 통해서 캡슐화나 은닉화를 구현할 수 있다는 것을 알게됨

---

모든걸 다 잘하려고 하지 마라

모르는게 있으면 물어봐라

모르는게 있다면 지금 알고 넘어가는게 맞다,,,,,,,,,,,,,,,,,

결국은 다른 개발자와 함께 일해야 한다….

마감 일정이 있는 이유?

- 리팩토링만을 위한 시간을 따로 잡지 않고 생각날때마다 해야한다…

---
